(this["webpackJsonpexercise-app"]=this["webpackJsonpexercise-app"]||[]).push([[0],{1:function(e,t,n){e.exports={RegisterComponent:"RegisterComponent_RegisterComponent__NlhpB",form_li:"RegisterComponent_form_li__1lWu2",form_input:"RegisterComponent_form_input__13HAa",error:"RegisterComponent_error__v_i_K",login_button:"RegisterComponent_login_button__bfja5",login_icon_img:"RegisterComponent_login_icon_img__2S_UJ",imgContainer:"RegisterComponent_imgContainer__3hdDS",options:"RegisterComponent_options__3tkVk",notAMember:"RegisterComponent_notAMember__Gh38W",options_span:"RegisterComponent_options_span__3ypfn",loginImg:"RegisterComponent_loginImg__3h8wm",additionalOptions:"RegisterComponent_additionalOptions__2TfML"}},2:function(e,t,n){e.exports={LoginComponent:"LoginComponent_LoginComponent__3YGFZ",form_li:"LoginComponent_form_li___SRy0",form_input:"LoginComponent_form_input__2hgcs",error:"LoginComponent_error__1oyk3",login_button:"LoginComponent_login_button__1RbaU",login_icon_img:"LoginComponent_login_icon_img__FeQ8_",imgContainer:"LoginComponent_imgContainer__3ma1c",options:"LoginComponent_options__35dEY",notAMember:"LoginComponent_notAMember__63f6z",options_span:"LoginComponent_options_span__3hmJS",loginImg:"LoginComponent_loginImg__1W3MH",additionalOptions:"LoginComponent_additionalOptions__3tm9F"}},31:function(e,t,n){e.exports={AuthorizationPage:"AuthorizationPage_AuthorizationPage__13qny"}},33:function(e,t,n){e.exports=n(63)},38:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),s=(n(38),n(4)),c=n(5),l=n(8),m=n(6),u=n(9),p=n(7),g=(n(44),n(11)),d=n.n(g),_=n(14),h=n(15),f=n.n(h),v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleButtonClick=function(){return n.props.dispatchLoadActivities()},n.state={},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleButtonClick},"Return Activity Levels"),r.a.createElement("div",null,JSON.stringify(this.props.activity_levels)))}}]),t}(a.Component),b=v=Object(p.b)((function(e){return{activity_levels:e.activity_levels}}),(function(e){return{dispatchLoadActivities:function(){return console.log("dispatchLoadActivities"),e(function(){var e=Object(_.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/activity_levels").then((function(e){return t({type:"LOAD_ACTIVITIES",payload:e})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(v),O=n(31),E=n.n(O),y=n(17),C=n(2),j=n.n(C);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleInput=function(e){var t=e.target,a=t.value,r=t.name,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state);o[r]=a,n.setState(o)},n.handleLoginSubmit=function(e){e.preventDefault();var t=n.state.email;return t?t.length<3?n.setState({error:!0}):t.includes("@")?n.props.dispatchLoginSubmit(n.state):n.setState({error:!0}):n.setState({error:!0})},n.handleRegisterClick=function(){return n.props.isRegistered()},n.state={email:"",password:"",error:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.registeredUserEmail!==this.props.registeredUserEmail)return this.setState({email:this.props.registeredUserEmail})}},{key:"render",value:function(){return r.a.createElement("div",{className:j.a.LoginComponent},r.a.createElement("form",null,r.a.createElement("ul",null,r.a.createElement("li",{className:j.a.form_li},r.a.createElement("div",{className:j.a.imgContainer},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/25/25236.svg",alt:"email",className:j.a.login_icon_img})),r.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleInput,placeholder:"Your email",className:j.a.form_input})),this.state.error?r.a.createElement("li",{className:j.a.error},"* user not found"):null,r.a.createElement("li",{className:j.a.form_li},r.a.createElement("div",{className:j.a.imgContainer},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/25/25239.svg",alt:"password",className:j.a.login_icon_img})),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInput,placeholder:"Your password",className:j.a.form_input}))),r.a.createElement("button",{onClick:this.handleLoginSubmit,className:j.a.login_button},"Login"," ")),r.a.createElement("div",{className:j.a.options},r.a.createElement("div",{className:j.a.additionalOptions},r.a.createElement("div",{className:j.a.notAMember},r.a.createElement("p",null,"Not a member?"," ",r.a.createElement("span",{className:j.a.options_span,onClick:this.handleRegisterClick},"Sign up"))),r.a.createElement("div",{className:j.a.notAMember},r.a.createElement("p",null,"Forgot"," ",r.a.createElement("span",{className:j.a.options_span,onClick:this.handleRegisterClick},"Password"))))))}}]),t}(a.Component),L=N=Object(p.b)((function(e){return{registeredUserEmail:e.registeredUserEmail}}),(function(e){return{dispatchLoginSubmit:function(t){return e(function(e){return function(){var t=Object(_.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("/api/auth/login",e).then((function(e){return n({type:"LOGIN",payload:e.data})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(N),R=n(1),S=n.n(R);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleInput=function(e){var t=e.target,a=t.value,r=t.name,o=I({},n.state);o[r]=a,n.setState(o)},n.handleRegister=function(e){e.preventDefault();var t=I({},n.state);return delete t.formErrors,delete t["confirm password"],n.props.dispatchRegister(t),n.props.isRegistered()},n.handleLoginClick=function(){return n.props.isRegistered()},n.state={name:"",email:"",password:"","confirm password":"",height:"5'10",weight:150,activity_level_id:1,birth_date:"1999-01-01",gender_id:1,user_tier_id:1,goal_id:1,formErrors:{name:"",email:"",password:"","confirm password":"",height:"",weight:"",activity_level:"",birth_date:""}},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:S.a.RegisterComponent},r.a.createElement("form",null,r.a.createElement("ul",null,r.a.createElement("li",{className:S.a.form_li},r.a.createElement("div",{className:S.a.imgContainer},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/74/74472.svg",alt:"name",className:S.a.login_icon_img})),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInput,placeholder:"Your name",className:S.a.form_input})),r.a.createElement("li",{className:S.a.form_li},r.a.createElement("div",{className:S.a.imgContainer},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/25/25236.svg",alt:"email",className:S.a.login_icon_img})),r.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleInput,placeholder:"average.joe@fitness.com",className:S.a.form_input})),r.a.createElement("li",{className:S.a.form_li},r.a.createElement("div",{className:S.a.imgContainer},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/25/25239.svg",alt:"password",className:S.a.login_icon_img})),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleInput,placeholder:"Password (must be 8-20 characters)",className:S.a.form_input})),r.a.createElement("li",{className:S.a.form_li},r.a.createElement("div",{className:S.a.imgContainer},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/25/25239.svg",alt:"password",className:S.a.login_icon_img})),r.a.createElement("input",{type:"password",name:"confirm password",value:this.state["confirm password"],onChange:this.handleInput,placeholder:"Confirm your password",className:S.a.form_input}))),r.a.createElement("button",{onClick:this.handleRegister,className:S.a.login_button},"Register")),r.a.createElement("div",{className:S.a.options},r.a.createElement("div",{className:S.a.additionalOptions},r.a.createElement("div",{className:S.a.notAMember},r.a.createElement("p",null,"Already a member?"," ",r.a.createElement("span",{className:S.a.options_span,onClick:this.handleLoginClick},"Login"))))))}}]),t}(a.Component),A=P=Object(p.b)(null,(function(e){return{dispatchRegister:function(t){return e(function(e){return function(){var t=Object(_.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.post("/api/auth/register",e).then((function(e){return n({type:"REGISTER",payload:e.data})})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(P),D=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).isRegistered=function(){return n.setState({isRegistered:!n.state.isRegistered})},n.state={isRegistered:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:E.a.AuthorizationPage},this.state.isRegistered?r.a.createElement(L,{isRegistered:this.isRegistered}):r.a.createElement(A,{isRegistered:this.isRegistered}))}}]),t}(a.Component),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleHidePlayground=function(){var e=n.state.playground;return n.setState({playground:!e})},n.handleLogout=function(){return n.props.dispatchLogout()},n.state={playground:!0},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.isLoggedIn?r.a.createElement("button",{onClick:this.handleLogout},"Log out"):null,r.a.createElement(D,null),r.a.createElement("button",{onClick:this.handleHidePlayground},this.state.playground?"Hide Playground":"Show Playground"),this.state.playground?r.a.createElement("div",{className:"component_playground"},r.a.createElement(b,null)):null)}}]),t}(a.Component),T=x=Object(p.b)((function(e){return{isLoggedIn:e.isLoggedIn}}),(function(e){return{dispatchLogout:function(){return e(function(){var e=Object(_.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/auth/logout").then((function(e){return t({type:"LOGOUT",payload:e.data})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=n(13),M=n(32),G={activity_levels:[],isLoggedIn:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.payload),t.type){case"LOAD_ACTIVITIES":return Object.assign({},e,{activity_levels:t.payload.data});case"REGISTER":return Object.assign({},e,{registeredUserEmail:t.payload.formInfo.email});case"LOGIN":var n=t.payload.session,a=n.email,r=n.id,o=n.user_status_id,i=Object.assign({},{email:a,id:r,user_status_id:o});return localStorage.setItem("session",JSON.stringify(i)),Object.assign({},e,{isLoggedIn:!0});case"LOGOUT":return localStorage.removeItem("session"),Object.assign({},e,{isLoggedIn:!1});default:return e}},z=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):U.c)(Object(U.a)(M.a)),B=Object(U.d)(J,z);i.a.render(r.a.createElement(p.a,{store:B},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.390d195f.chunk.js.map